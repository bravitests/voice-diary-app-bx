# Environment Variable Guide

This document outlines the environment variables required for the application to run correctly. These variables should be defined in a `.env.local` file in the project root.

---

## Base Mini App Configuration

These variables are recommended for "base mini apps" and are often used for OnchainKit and Farcaster integration, as well as general application metadata.

### Required

- `NEXT_PUBLIC_ONCHAINKIT_PROJECT_NAME`: **Required**. The name of your application, used for display purposes in OnchainKit.
- `NEXT_PUBLIC_URL`: **Required**. The public URL of your deployed application (e.g., `https://your-app.vercel.app`).
- `NEXT_PUBLIC_ONCHAINKIT_API_KEY`: **Required**. Your CDP client API key for OnchainKit.

### Farcaster Integration (Generated by `npx create-onchain --manifest`)

These variables are typically generated when setting up Farcaster integration.

- `FARCASTER_HEADER`: Base64 encoded header for Farcaster.
- `FARCASTER_PAYLOAD`: Base64 encoded payload for Farcaster.
- `FARCASTER_SIGNATURE`: Hexadecimal signature for Farcaster.

### Optional (Appearance and Metadata)

These variables control the appearance and metadata of your application, often used for social sharing and platform integration.

- `NEXT_PUBLIC_APP_ICON`: URL to your application's icon (e.g., `https://your-app.vercel.app/icon.png`).
- `NEXT_PUBLIC_APP_SUBTITLE`: A short subtitle for your application.
- `NEXT_PUBLIC_APP_DESCRIPTION`: A detailed description of what your application does.
- `NEXT_PUBLIC_APP_SPLASH_IMAGE`: URL to a splash image for your application (e.g., `https://your-app.vercel.app/splash.png`).
- `NEXT_PUBLIC_SPLASH_BACKGROUND_COLOR`: Hex code for the splash screen background color (e.g., `#000000`).
- `NEXT_PUBLIC_APP_PRIMARY_CATEGORY`: The primary category of your application (e.g., `social`).
- `NEXT_PUBLIC_APP_HERO_IMAGE`: URL to a hero image for your application (e.g., `https://your-app.vercel.app/og.png`).
- `NEXT_PUBLIC_APP_TAGLINE`: A short tagline for your application (e.g., `Play instantly`).
- `NEXT_PUBLIC_APP_OG_TITLE`: Open Graph title for social sharing.
- `NEXT_PUBLIC_APP_OG_DESCRIPTION`: Open Graph description for social sharing.
- `NEXT_PUBLIC_APP_OG_IMAGE`: Open Graph image URL for social sharing (e.g., `https://your-app.vercel.app/og.png`).

---

## Gemini AI

The application uses the Gemini AI API for various features. You need to provide at least one API key. The system will rotate through the provided keys.

- `GEMINI_API_KEY_1`: **Required**. Your primary Gemini API key.
- `GEMINI_API_KEY_2`: **Optional**. A second Gemini API key for fallback or load balancing.
- `GEMINI_API_KEY_3`: **Optional**. A third Gemini API key.

---

## Database

A PostgreSQL database is required to store application data.

- `DATABASE_URL`: **Required**. The connection string for your PostgreSQL database.
  - **Format**: `postgresql://[user]:[password]@[host]:[port]/[database]`

---

## OnchainKit

These variables are required for the OnchainKit provider, which handles wallet connections.

- `NEXT_PUBLIC_ONCHAIN_KIT_PROJECT_ID`: **Required**. Your OnchainKit project ID.
- `ONCHAIN_KIT_API_KEY`: **Required**. Your OnchainKit API key.

---

## Smart Contract

These variables are related to the Ethereum smart contract for handling subscriptions.

- `NEXT_PUBLIC_CONTRACT_ADDRESS`: **Required**. The deployed address of the `VoiceDiarySubscription` smart contract.

---

## Audio Storage

The application can store audio files on a remote object storage service (like AWS S3, Google Cloud Storage, or other S3-compatible services). If not provided, it will default to local file system storage.

- `AUDIO_STORAGE_URL`: **Optional**. The endpoint URL for your object storage service.
- `AUDIO_STORAGE_API_KEY`: **Optional**. The API key or access key for the storage service.
- `AUDIO_STORAGE_BUCKET`: **Optional**. The name of the bucket where audio files will be stored.

---

## Next.js

Internal variables used by the Next.js framework.

- `NEXT_SERVER_ACTIONS_ENCRYPTION_KEY`: **Required for Production**. A secret key used by Next.js to encrypt server action payloads. For development, this is often handled automatically. For production, you must set a persistent, 32-byte hex-encoded random string.
